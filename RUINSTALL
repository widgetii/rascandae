Инструкция по установке

Для начала нужно отключить (обязательно) и или удалить (необязательно) apache

Для этого нужно установить утилиту для настройки rcconf

$sudo apt-get install rcconf

Потом нужно собственно ее запустить

$sudo rcconf 

и убрать галочку напротив apache

Это отключит его загрузку при старте системы


Для работы программы необходимо установить еще два пакета

$ sudo apt-get install supervisord python-virtualenv


Теперь нужно как то получить код этой программы.

и из подпапки support cкопировать файл для настройки supervisord

$sudo cp ./support/rascandae.conf /etc/supervisor/conf.d/


Кроме этого для работы программы нужно установить несколько пакетов

для этого создадим virtualenv (это такой питоновский sandbox)

и установим в него нужные библиотеки

итак в папке rascandae

$ virtuaenv venv

Активируем его

$source ./venv/bin/activate

И устанавливаем библиотеки

$pip install -r requirements.txt


Все программа должна работать


Но теперь еще необходимо настроить cron для запуска S3 uploader а

надо выполнить

$ sudo crontab -e -u pi 

и вставить в конец строку

*/20 *  *    *   *    /home/pi/rascandae/cron.sh

Которая будет запускать нужный скрипт каждые 20 минут


Местоположение кода жестко прописано как /home/pi/rascandae 

т.е. с репозитория нужно копировать в домашнюю папку.


